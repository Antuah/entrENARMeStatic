<!DOCTYPE html>
<html lang="es">
<head>
  <style>
    html {
      background-color: #FBFAFB;
    }
    html[data-theme="dark"] {
      background-color: #111827;
    }
    body {
      margin: 0;
      background-color: transparent;
    }
  </style>
  <script>
    (function () {
      const theme = localStorage.getItem('theme');
      if (theme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    })();
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>entrENARMe - Plataforma de Preparación ENARM</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Fredoka:wght@500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap");

    :root {
      --primary: #D97F8C;
      --primary-2: #F3B7C1;
      --secondary: #EBCB8B;
      --olive: #BBD38A;
      --ink: #1F2937;
      --muted: #6B7280;
      --bg: #FBFAFB;
      --surface: #FFFFFF;
      --border: #E9E3E8;
      --danger: #EF4444;
      --success: #10B981;
      --violet: #8B5CF6;

      --radius-xl: 26px;
      --radius-lg: 18px;
      --radius-md: 14px;
      --shadow: 0 18px 50px rgba(17,24,39,0.08);
      --shadow-soft: 0 10px 26px rgba(17,24,39,0.06);
      --t: 0.22s ease;
      --max: 980px;

      --safeTop: env(safe-area-inset-top);
      --safeRight: env(safe-area-inset-right);
      --safeBottom: env(safe-area-inset-bottom);
      --safeLeft: env(safe-area-inset-left);
    }

    [data-theme="dark"] {
      --primary: #E89FAB;
      --primary-2: #D97F8C;
      --secondary: #F4D79F;
      --olive: #C9E0A2;
      --ink: #E5E7EB;
      --muted: #9CA3AF;
      --bg: #111827;
      --surface: #1F2937;
      --border: #374151;
      --danger: #F87171;
      --success: #34D399;
      --violet: #A78BFA;
      
      --shadow: 0 18px 50px rgba(0,0,0,0.4);
      --shadow-soft: 0 10px 26px rgba(0,0,0,0.3);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      background-color: #FBFAFB;
      transition: background-color 0s;
    }

    [data-theme="dark"] html {
      background-color: #111827;
    }

    html, body {
      height: 100%;
    }

    body {
      font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 600px at 10% 0%, rgba(217,127,140,0.18), transparent 55%),
        radial-gradient(900px 500px at 90% 0%, rgba(235,203,139,0.16), transparent 55%),
        var(--bg);
      color: var(--ink);
      min-height: 100svh;
      display: flex;
      overflow: hidden;

      padding: var(--safeTop) var(--safeRight) var(--safeBottom) var(--safeLeft);
      padding-left: calc(var(--safeLeft) + 270px);
      padding-right: calc(var(--safeRight) + 340px);

      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      transition: background var(--t), color var(--t);
    }

    [data-theme="dark"] body {
      background:
        radial-gradient(1200px 600px at 10% 0%, rgba(232,159,171,0.12), transparent 55%),
        radial-gradient(900px 500px at 90% 0%, rgba(244,215,159,0.1), transparent 55%),
        var(--bg);
    }

    /* Layout */
    .layout {
      display: flex;
      height: 100vh;
      width: 100%;
    }

    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      width: 270px;
      height: 100vh;
      background: rgba(255,255,255,0.85);
      border-right: 1px solid var(--border);
      backdrop-filter: blur(10px);
      padding: 18px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      z-index: 10;
    }

    .main {
      flex: 1;
      overflow: auto;
      padding: 22px 100px 80px 100px;
      -webkit-overflow-scrolling: touch;
      max-width: 100%;
      width: 100%;
      box-sizing: border-box;
    }

    .right {
      position: fixed;
      right: 0;
      top: 0;
      width: 340px;
      height: 100vh;
      background: rgba(255,255,255,0.85);
      border-left: 1px solid var(--border);
      backdrop-filter: blur(10px);
      padding: 18px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      overflow: auto;
      -webkit-overflow-scrolling: touch;
    }

    /* Brand */
    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 12px;
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.72));
      box-shadow: var(--shadow-soft);
      min-width: 0;
    }

    .brand-badge {
      width: 46px;
      height: 46px;
      border-radius: 16px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 22px;
      box-shadow: 0 10px 20px rgba(217,127,140,0.25);
      flex: 0 0 auto;
    }

    .brand h1 {
      font-family: Fredoka, Poppins, sans-serif;
      font-size: 18px;
      line-height: 1.1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .brand p {
      font-size: 12px;
      color: var(--muted);
      margin-top: 2px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* Nav */
    .nav {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .nav-btn {
      border: 1px solid transparent;
      background: transparent;
      padding: 12px 12px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      color: var(--muted);
      transition: var(--t);
      font-weight: 600;
      min-width: 0;
      font-family: Poppins, sans-serif;
      font-size: 14px;
    }

    .nav-btn:hover {
      background: rgba(217,127,140,0.08);
      color: var(--ink);
    }

    .nav-btn.active {
      background: rgba(217,127,140,0.12);
      border-color: rgba(217,127,140,0.28);
      color: var(--ink);
    }

    .nav-btn.active i {
      color: var(--primary);
    }

    .nav-btn i {
      font-size: 22px;
      color: var(--muted);
      flex: 0 0 auto;
    }

    .nav-btn span {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* Main content */
    .wrap {
      width: 100%;
      margin: 0;
      padding: 0;
    }

    .view {
      display: none;
      animation: fade 0.32s ease;
      width: 100%;
      min-width: 0;
    }

    .view.active {
      display: block;
    }

    @keyframes fade {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    .topbar {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 14px;
      flex-wrap: wrap;
    }

    .title h2 {
      font-family: Fredoka, Poppins, sans-serif;
      font-size: 26px;
      letter-spacing: -0.2px;
      word-break: break-word;
    }

    .title p {
      color: var(--muted);
      font-size: 13px;
      margin-top: 4px;
    }

    .pillrow {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .pill {
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.75);
      padding: 8px 10px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      box-shadow: 0 8px 18px rgba(17,24,39,0.04);
      white-space: nowrap;
    }

    .pill strong {
      font-weight: 700;
    }

    .grid {
      display: grid;
      grid-template-columns: 2.3fr 1.4fr;
      gap: 14px;
      margin-top: 14px;
      width: 100%;
      min-width: 0;
    }

    .card {
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.92);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow);
      padding: 16px;
      min-width: 0;
      width: 100%;
      box-sizing: border-box;
    }

    .view > .card {
      margin-top: 14px;
      flex: 1;
    }

    .card > * {
      width: 100%;
      box-sizing: border-box;
    }

    .card h3 {
      font-family: Fredoka, Poppins, sans-serif;
      font-size: 16px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 0;
    }

    .card h3 i {
      color: var(--primary);
      font-size: 20px;
      flex: 0 0 auto;
    }

    .muted {
      color: var(--muted);
      font-size: 13px;
    }

    .route {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }

    .node {
      width: 75px;
      height: 75px;
      border-radius: 50%;
      background: #E5E7EB;
      color: #9CA3AF;
      box-shadow: 0 10px 0 #D1D5DB;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
      position: relative;
      transition: var(--t);
    }

    .node i {
      font-size: 30px;
    }

    .node.done {
      background: var(--olive);
      box-shadow: 0 10px 0 rgba(187,211,138,0.55);
      color: white;
    }

    .node.current {
      background: var(--primary);
      box-shadow: 0 10px 0 rgba(217,127,140,0.55);
      color: white;
      animation: bounce 2.2s infinite;
    }

    .node.locked {
      background: #E5E7EB;
      color: #9CA3AF;
      box-shadow: 0 10px 0 #D1D5DB;
      cursor: not-allowed;
    }

    .node:active {
      transform: translateY(6px);
      box-shadow: none;
    }

    .node .lbl {
      margin-top: 4px;
      text-align: center;
    }

    .line {
      width: 4px;
      height: 28px;
      background: #E5E7EB;
      margin-top: -6px;
      margin-bottom: -6px;
    }

    .two-col {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .help {
      font-size: 12px;
      color: var(--muted);
    }

    .btn {
      border: 0;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 10px 14px;
      border-radius: 14px;
      cursor: pointer;
      font-weight: 700;
      transition: var(--t);
      box-shadow: 0 14px 30px rgba(217,127,140,0.22);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      user-select: none;
      min-height: 44px;
      font-family: Poppins, sans-serif;
      font-size: 14px;
    }

    .btn:hover {
      transform: translateY(-1px);
    }

    .btn:active {
      transform: translateY(0px);
    }

    .btn.ghost {
      background: rgba(255,255,255,0.85);
      color: var(--ink);
      border: 1px solid var(--border);
      box-shadow: none;
    }

    .btn.danger {
      background: linear-gradient(135deg, #EF4444, #F59E0B);
    }

    /* Hamburger menu button */
    .hamburger {
      display: none;
      position: fixed;
      top: 18px;
      left: 18px;
      z-index: 1001;
      width: 44px;
      height: 44px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      cursor: pointer;
      box-shadow: var(--shadow-soft);
      color: var(--ink);
      font-size: 24px;
      align-items: center;
      justify-content: center;
      transition: var(--t);
    }

    .hamburger:hover {
      transform: scale(1.05);
    }

    .hamburger:active {
      transform: scale(0.95);
    }

    /* Sidebar overlay */
    .sidebar-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 999;
      backdrop-filter: blur(2px);
    }

    /* Dark mode overrides */
    [data-theme="dark"] .sidebar {
      background: rgba(31, 41, 55, 0.85);
    }

    [data-theme="dark"] .right {
      background: rgba(31, 41, 55, 0.85);
    }

    [data-theme="dark"] .brand {
      background: linear-gradient(180deg, rgba(31,41,55,0.92), rgba(17,24,39,0.72));
    }

    [data-theme="dark"] .card {
      background: rgba(31,41,55,0.92);
    }

    [data-theme="dark"] .pill {
      background: rgba(31,41,55,0.75);
    }

    [data-theme="dark"] .btn.ghost {
      background: rgba(31,41,55,0.85);
      color: var(--ink);
    }

    [data-theme="dark"] .hamburger {
      background: rgba(31,41,55,0.95);
    }

    [data-theme="dark"] .node {
      background: #374151;
      color: #D1D5DB;
      box-shadow: 0 10px 0 #1F2937;
    }

    [data-theme="dark"] .node.done {
      background: var(--olive);
      box-shadow: 0 10px 0 rgba(201,224,162,0.55);
      color: white;
    }

    [data-theme="dark"] .node.current {
      background: var(--primary);
      box-shadow: 0 10px 0 rgba(232,159,171,0.55);
      color: white;
    }

    [data-theme="dark"] .node.locked {
      background: #374151;
      color: #D1D5DB;
      box-shadow: 0 10px 0 #1F2937;
    }

    [data-theme="dark"] .line {
      background: #374151;
    }

    [data-theme="dark"] .two-col > div {
      background: rgba(31,41,55,0.8) !important;
    }

    [data-theme="dark"] .help {
      color: var(--muted);
    }

    .sidebar-footer {
      margin-top: auto;
      padding: 10px;
      border: 1px solid var(--border);
      border-radius: 18px;
      background: rgba(255,255,255,0.72);
    }

    [data-theme="dark"] .sidebar-footer {
      background: rgba(31,41,55,0.72);
    }

    /* Stats */
    .stat {
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.92);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow);
      padding: 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }

    [data-theme="dark"] .stat {
      background: rgba(31,41,55,0.92);
    }

    .stat .l {
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 0;
    }

    .stat .l i {
      font-size: 22px;
      flex: 0 0 auto;
    }

    .stat .v {
      font-weight: 900;
      font-size: 16px;
    }

    .stat .k {
      font-size: 12px;
      color: var(--muted);
      font-weight: 700;
    }

    .tag {
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.75);
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 11px;
      display: flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 8px 18px rgba(17,24,39,0.04);
    }

    [data-theme="dark"] .tag {
      background: rgba(31,41,55,0.75);
    }

    .assistant {
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.92);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow);
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    [data-theme="dark"] .assistant {
      background: rgba(31,41,55,0.92);
    }

    .assistant h4 {
      font-family: Fredoka, Poppins, sans-serif;
      font-size: 14px;
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 8px;
      min-width: 0;
    }

    .assistant p {
      font-size: 12px;
      color: var(--ink);
      line-height: 1.55;
    }

    .assistant .tip {
      border-top: 1px solid var(--border);
      padding-top: 8px;
      margin-top: 8px;
      font-size: 11px;
      color: var(--muted);
      font-style: italic;
    }

    /* Theme toggle */
    .theme-toggle {
      position: fixed;
      bottom: 20px;
      right: 360px;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--surface);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: var(--ink);
      box-shadow: var(--shadow);
      transition: var(--t);
      z-index: 100;
    }

    .theme-toggle:hover {
      transform: scale(1.1);
    }

    /* Mobile styles */
    @media (max-width: 768px) {
      .hamburger {
        display: flex;
      }

      .sidebar-overlay.active {
        display: block;
      }

      .sidebar {
        left: -270px;
        transition: left 0.3s ease;
        z-index: 1000;
      }

      .sidebar.open {
        left: 0;
      }

      .right {
        display: none;
      }

      body {
        padding-left: var(--safeLeft);
        padding-right: var(--safeRight);
      }

      .main {
        padding: 16px 16px 60px 16px;
      }

      .topbar {
        flex-direction: column;
        align-items: flex-start;
        margin-top: 50px;
      }

      .grid {
        grid-template-columns: 1fr;
      }

      .two-col {
        grid-template-columns: 1fr;
      }

      .title h2 {
        font-size: 22px;
      }

      .title p {
        font-size: 12px;
      }

      .card {
        padding: 14px;
      }

      .route {
        flex-direction: row;
        overflow-x: auto;
        padding-bottom: 10px;
      }

      .route .line {
        width: 28px;
        height: 4px;
      }

      .node {
        width: 60px;
        height: 60px;
        flex-shrink: 0;
      }

      .node i {
        font-size: 24px;
      }

      .node .lbl {
        font-size: 10px;
      }

      .btn {
        width: 100%;
        justify-content: center;
      }

      .pillrow {
        width: 100%;
      }

      .pill {
        font-size: 11px;
        padding: 6px 8px;
      }

      .theme-toggle {
        right: 20px;
        bottom: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="layout">
    <!-- Hamburger Button -->
    <button class="hamburger" onclick="toggleSidebar()" aria-label="Menu">
      <i class="ph-bold ph-list" id="hamburger-icon"></i>
    </button>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebar-overlay" onclick="toggleSidebar()"></div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
      <div class="brand">
        <div class="brand-badge"><i class="ph-bold ph-graduation-cap"></i></div>
        <div>
          <h1>EntrENARMe</h1>
          <p>MVP · ENARM / USMLE / MIR</p>
        </div>
      </div>
      <nav class="nav">
        <button class="nav-btn active" onclick="showView('home')">
          <i class="ph ph-bold ph-compass"></i>
          <span>Inicio</span>
        </button>
        <button class="nav-btn" onclick="showView('practice')">
          <i class="ph ph-bold ph-barbell"></i>
          <span>Entrenar</span>
        </button>
        <button class="nav-btn" onclick="showView('exam')">
          <i class="ph ph-bold ph-exam"></i>
          <span>Simulacro</span>
        </button>
        <button class="nav-btn" onclick="showView('errors')">
          <i class="ph ph-bold ph-warning-circle"></i>
          <span>Errores</span>
        </button>
        <button class="nav-btn" onclick="showView('plan')">
          <i class="ph ph-bold ph-calendar-check"></i>
          <span>Plan semanal</span>
        </button>
        <button class="nav-btn" onclick="showView('voice')">
          <i class="ph ph-bold ph-microphone-stage"></i>
          <span>Simulación oral</span>
        </button>
        <button class="nav-btn" onclick="showView('tutor')">
          <i class="ph ph-bold ph-chats"></i>
          <span>Tutor IA</span>
        </button>
        <button class="nav-btn" onclick="showView('analytics')">
          <i class="ph ph-bold ph-chart-line-up"></i>
          <span>Analytics</span>
        </button>
        <button class="nav-btn" onclick="showView('settings')">
          <i class="ph ph-bold ph-gear-six"></i>
          <span>Ajustes</span>
        </button>
      </nav>
      
      <div class="sidebar-footer">
        <div style="display: flex; align-items: center; gap: 10px;">
          <i class="ph-fill ph-sparkle" style="color: var(--primary); font-size: 20px;"></i>
          <div style="font-weight: 800; font-size: 12px;">MVP listo para demo</div>
        </div>
        <div class="muted" style="margin-top: 6px; font-size: 11px;">
          Ruta ENARM + simulacro + errores + plan semanal + analytics.
        </div>
        <button class="btn danger" style="margin-top: 10px; width: 100%;">Cerrar sesión</button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main">
      <!-- Home View -->
      <div class="view active" id="view-home">
        <div class="topbar">
          <div class="title">
            <h2>Inicio</h2>
            <p>Entrenador para 5.º, 6.º e internado · simulacros tipo ENARM + feedback.</p>
          </div>
          <div class="pillrow">
            <div class="pill"><i class="ph-fill ph-fire" style="color: var(--secondary);"></i> Racha <strong>7</strong></div>
            <div class="pill"><i class="ph-fill ph-lightning" style="color: var(--primary);"></i> XP <strong>1,250</strong></div>
            <div class="pill"><i class="ph-fill ph-coin" style="color: var(--secondary);"></i> Monedas <strong>340</strong></div>
          </div>
        </div>

        <div class="grid">
          <div class="card">
            <h3><i class="ph-bold ph-map-trifold"></i> Ruta ENARM (MVP)</h3>
            <p class="muted">Nodos por sistema: desbloqueas sets de preguntas y mini-simulacros.</p>

            <div class="route" style="margin-top: 14px;">
              <div class="node done"><i class="ph-fill ph-check"></i><div class="lbl">Inicio</div></div>
              <div class="line"></div>
              <div class="node current"><i class="ph-fill ph-heartbeat"></i><div class="lbl">Cardio</div></div>
              <div class="line"></div>
              <div class="node locked"><i class="ph-fill ph-wind"></i><div class="lbl">Respi</div></div>
              <div class="line"></div>
              <div class="node locked"><i class="ph-fill ph-first-aid"></i><div class="lbl">Urgencias</div></div>
              <div class="line"></div>
              <div class="node locked"><i class="ph-fill ph-baby"></i><div class="lbl">Pediatría</div></div>
            </div>

            <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px;">
              <button class="btn" onclick="showView('practice')"><i class="ph-bold ph-play"></i> Práctica rápida</button>
              <button class="btn ghost" onclick="showView('exam')"><i class="ph-bold ph-exam"></i> Simulacro demo</button>
            </div>
          </div>

          <div class="card">
            <h3><i class="ph-bold ph-stethoscope"></i> Objetivo del MVP</h3>
            <p class="muted">Acompañar a estudiantes de 5.º–internado para subir % de aciertos en simulacros.</p>
            <div style="margin-top: 12px; border-top: 1px solid var(--border); padding-top: 12px;">
              <div class="two-col">
                <div style="border: 1px solid var(--border); border-radius: 18px; padding: 12px; background: rgba(255,255,255,0.8);">
                  <div style="font-weight: 800; font-size: 13px;">Alumno</div>
                  <div class="muted" style="margin-top: 6px;">Practicar por bloques, ver errores, plan semanal sencillo.</div>
                </div>
                <div style="border: 1px solid var(--border); border-radius: 18px; padding: 12px; background: rgba(255,255,255,0.8);">
                  <div style="font-weight: 800; font-size: 13px;">Coordinador</div>
                  <div class="muted" style="margin-top: 6px;">Analytics por cohorte y sistemas (vista demo).</div>
                </div>
              </div>
              <div class="help" style="margin-top: 10px;">
                Este demo usa datos fake, pero la experiencia y el flujo ya están listos para conectar banco real + IA.
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Practice View -->
      <div class="view" id="view-practice">
        <div class="topbar">
          <div class="title">
            <h2>Entrenar</h2>
            <p>Selecciona un modo de práctica para comenzar.</p>
          </div>
        </div>
        <div class="card">
          <h3><i class="ph-bold ph-barbell"></i> Modos de práctica</h3>
          <p class="muted">Próximamente: diferentes modos de entrenamiento por sistema y dificultad.</p>
          <div style="margin-top: 16px;">
            <button class="btn"><i class="ph-bold ph-play"></i> Iniciar práctica rápida</button>
          </div>
        </div>
      </div>

      <!-- Exam View -->
      <div class="view" id="view-exam">
        <div class="topbar">
          <div class="title">
            <h2>Simulacro</h2>
            <p>Simulacros tipo ENARM con tiempo y condiciones reales.</p>
          </div>
        </div>
        <div class="card">
          <h3><i class="ph-bold ph-exam"></i> Simulacro demo</h3>
          <p class="muted">Próximamente: simulacros completos con 150 preguntas y tiempo limitado.</p>
          <div style="margin-top: 16px;">
            <button class="btn"><i class="ph-bold ph-play"></i> Iniciar simulacro</button>
          </div>
        </div>
      </div>

      <!-- Errors View -->
      <div class="view" id="view-errors">
        <div class="topbar">
          <div class="title">
            <h2>Errores</h2>
            <p>Revisa y practica las preguntas que has fallado.</p>
          </div>
        </div>
        <div class="card">
          <h3><i class="ph-bold ph-warning-circle"></i> Banco de errores</h3>
          <p class="muted">Aquí aparecerán las preguntas que has respondido incorrectamente para que puedas repasarlas.</p>
        </div>
      </div>

      <!-- Plan View -->
      <div class="view" id="view-plan">
        <div class="topbar">
          <div class="title">
            <h2>Plan semanal</h2>
            <p>Plan simple en función de tu tiempo y tus áreas débiles.</p>
          </div>
        </div>
        <div class="card">
          <h3><i class="ph-bold ph-calendar-check"></i> Tu plan personalizado</h3>
          <p class="muted">Genera un plan de estudio basado en tu disponibilidad y áreas de mejora.</p>
          <div style="margin-top: 16px;">
            <button class="btn"><i class="ph-bold ph-magic-wand"></i> Generar plan</button>
          </div>
        </div>
      </div>

      <!-- Voice View -->
      <div class="view" id="view-voice">
        <div class="topbar">
          <div class="title">
            <h2>Simulación oral</h2>
            <p>Practica presentaciones de casos clínicos.</p>
          </div>
        </div>
        <div class="card">
          <h3><i class="ph-bold ph-microphone-stage"></i> Práctica oral</h3>
          <p class="muted">Próximamente: simulación de presentación de casos con feedback de IA.</p>
        </div>
      </div>

      <!-- Tutor View -->
      <div class="view" id="view-tutor">
        <div class="topbar">
          <div class="title">
            <h2>Tutor IA</h2>
            <p>Tu asistente inteligente para resolver dudas.</p>
          </div>
        </div>
        <div class="card">
          <h3><i class="ph-bold ph-chats"></i> Chat con el tutor</h3>
          <p class="muted">Próximamente: chat con IA especializada en medicina para resolver tus dudas.</p>
        </div>
      </div>

      <!-- Analytics View -->
      <div class="view" id="view-analytics">
        <div class="topbar">
          <div class="title">
            <h2>Analytics</h2>
            <p>Estadísticas detalladas de tu progreso.</p>
          </div>
        </div>
        <div class="card">
          <h3><i class="ph-bold ph-chart-line-up"></i> Tu progreso</h3>
          <p class="muted">Visualiza tu avance por especialidad y áreas de mejora.</p>
        </div>
      </div>

      <!-- Settings View -->
      <div class="view" id="view-settings">
        <div class="topbar">
          <div class="title">
            <h2>Ajustes</h2>
            <p>Configura tu experiencia en la plataforma.</p>
          </div>
        </div>
        <div class="card">
          <h3><i class="ph-bold ph-gear-six"></i> Configuración</h3>
          <p class="muted">Personaliza tu perfil y preferencias de estudio.</p>
        </div>
      </div>

      <!-- Theme Toggle -->
      <button class="theme-toggle" onclick="toggleTheme()" aria-label="Cambiar tema">
        <i class="ph-bold ph-moon" id="theme-icon"></i>
      </button>
    </div>

    <!-- Right Panel -->
    <aside class="right">
      <div class="stat">
        <div class="l">
          <i class="ph-fill ph-fire" style="color: var(--secondary);"></i>
          <div>
            <div class="v">7</div>
            <div class="k">Racha</div>
          </div>
        </div>
        <div class="tag"><i class="ph-fill ph-sparkle"></i> constancia</div>
      </div>

      <div class="stat">
        <div class="l">
          <i class="ph-fill ph-lightning" style="color: var(--primary);"></i>
          <div>
            <div class="v">1,250</div>
            <div class="k">XP total</div>
          </div>
        </div>
        <div class="tag"><i class="ph-fill ph-target"></i> avance</div>
      </div>

      <div class="stat">
        <div class="l">
          <i class="ph-fill ph-coin" style="color: var(--secondary);"></i>
          <div>
            <div class="v">340</div>
            <div class="k">Monedas</div>
          </div>
        </div>
        <button class="btn ghost" onclick="showView('practice')" style="padding: 8px 10px; border-radius: 14px;">
          <i class="ph-bold ph-plus"></i> Ganar
        </button>
      </div>

      <div class="assistant">
        <h4><i class="ph-fill ph-robot" style="color: var(--primary);"></i> Asistente EntrENARMe</h4>
        <p>Hoy tu foco es: <b>Cardio</b>.</p>
        <div class="tip">Tip: identifica el "dato bisagra" del caso (lo que cambia por completo el Dx o el manejo).</div>
      </div>

      <div class="card" style="padding: 12px;">
        <h3 style="margin-bottom: 8px;"><i class="ph-bold ph-clipboard-text"></i> Mini-dashboard</h3>
        <div class="muted">Último set: <b>Cardio #3</b></div>
        <div class="muted" style="margin-top: 6px;">Área débil: <b>Urgencias</b></div>
        <div style="margin-top: 10px; height: 110px;">
          <canvas id="miniChart"></canvas>
        </div>
      </div>

      <div class="card" style="padding: 12px;">
        <h3 style="margin-bottom: 8px;"><i class="ph-bold ph-users-three"></i> Vista coordinador (demo)</h3>
        <div class="muted">
          Cohorte demo: 120 alumnos · promedio global 62% · cardio 54%, respi 48%, urgencias 60%.
        </div>
      </div>
    </aside>
  </div>

  <script>
    // Theme toggle
    function toggleTheme() {
      const html = document.documentElement;
      const icon = document.getElementById('theme-icon');
      
      if (html.getAttribute('data-theme') === 'dark') {
        html.removeAttribute('data-theme');
        localStorage.setItem('theme', 'light');
        icon.className = 'ph-bold ph-moon';
      } else {
        html.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
        icon.className = 'ph-bold ph-sun';
      }
    }

    // Load saved theme
    (function() {
      const theme = localStorage.getItem('theme');
      const icon = document.getElementById('theme-icon');
      
      if (theme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        if (icon) icon.className = 'ph-bold ph-sun';
      }
    })();

    // Sidebar toggle for mobile
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebar-overlay');
      const icon = document.getElementById('hamburger-icon');
      
      sidebar.classList.toggle('open');
      overlay.classList.toggle('active');
      
      if (sidebar.classList.contains('open')) {
        icon.className = 'ph-bold ph-x';
      } else {
        icon.className = 'ph-bold ph-list';
      }
    }

    // View switching
    function showView(viewId) {
      // Hide all views
      document.querySelectorAll('.view').forEach(view => {
        view.classList.remove('active');
      });
      
      // Show selected view
      const selectedView = document.getElementById('view-' + viewId);
      if (selectedView) {
        selectedView.classList.add('active');
      }
      
      // Update nav buttons
      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // Find and activate the corresponding nav button
      const navButtons = document.querySelectorAll('.nav-btn');
      const viewMap = ['home', 'practice', 'exam', 'errors', 'plan', 'voice', 'tutor', 'analytics', 'settings'];
      const index = viewMap.indexOf(viewId);
      if (index !== -1 && navButtons[index]) {
        navButtons[index].classList.add('active');
      }
      
      // Close sidebar on mobile
      const sidebar = document.getElementById('sidebar');
      if (sidebar.classList.contains('open')) {
        toggleSidebar();
      }
    }

    // Initialize mini chart
    document.addEventListener('DOMContentLoaded', function() {
      const ctx = document.getElementById('miniChart');
      if (ctx) {
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['Cardio', 'Resp', 'Endocrino', 'Urgencias'],
            datasets: [{
              data: [67, 50, 83, 40],
              borderRadius: 8,
              backgroundColor: ['#D97F8C', '#EBCB8B', '#BBD38A', '#8B5CF6'],
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: false }
            },
            scales: {
              y: { 
                beginAtZero: true, 
                max: 100,
                ticks: {
                  color: getComputedStyle(document.documentElement).getPropertyValue('--muted').trim()
                },
                grid: {
                  color: getComputedStyle(document.documentElement).getPropertyValue('--border').trim()
                }
              },
              x: {
                ticks: {
                  color: getComputedStyle(document.documentElement).getPropertyValue('--muted').trim()
                },
                grid: {
                  display: false
                }
              }
            }
          }
        });
      }
    });
  </script>
</body>
</html>
